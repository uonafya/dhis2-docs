<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>22.6.&nbsp;SQL View</title><link rel="stylesheet" type="text/css" href="resources/css/docbook_bsd.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="dhis2_user_manual_en.html" title="DHIS User Manual"><link rel="up" href="ch22.html" title="Chapter&nbsp;22.&nbsp;Data Administration"><link rel="prev" href="ch22s05.html" title="22.5.&nbsp;Locale Management"><link rel="next" href="ch22s07.html" title="22.7.&nbsp;Duplicate data elimination"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">22.6.&nbsp;SQL View</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch22s05.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;22.&nbsp;Data Administration</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch22s07.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="sqlView"></a>22.6.&nbsp;SQL View</h2></div></div></div><p>The SQL View functionality of DHIS2 will store the SQL view definition internally, and then materialize the view when requested. </p><p>Database administrators must be careful about creating database views directly in the DHIS
      2 database. For instance, when the resource tables are generated, all of them will first be
      dropped and then re-created. If any SQL views depend on these tables, an integrity violation
      exception will be thrown and the process will be aborted.</p><p>The SQL views are dropped in reverse alphabetical order based on their names in DHIS 2,
      and created in regular alphabetical order. This allows you to have dependencies between SQL
      views, given that views only depend on other views which come earlier in the alphabetical
      order. For instance, "ViewB" can safely depend on "ViewA". Otherwise, having views depending
      on other view result in an integrity violation error.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e10064"></a>22.6.1.&nbsp;Creating a new SQL view</h3></div></div></div><p>To create a new SQL view, choose Maintenance-&gt;SQL view and click the "Add new" button. </p><div class="screenshot"><div class="mediaobject" align="center"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="80%"><tr><td align="center"><img src="resources/images/maintainence/create_sql_view.PNG" align="middle" width="100%"></td></tr></table></div></div><p>The "Name" attribute of the SQL view will be used to determine the name of the table that DHIS2 will create when the view is materialized by the user. The "Description" attribute allows one to provide some descriptive text about what the SQL view actually does. Finally, the "SQL statement" should contain the SQL view definition. Only SQL  "SELECT" statements are allowed and certain sensitive tables (i.e. user information) are not accessible Press "Save" to store the SQL view definition.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e10075"></a>22.6.2.&nbsp;SQL View management</h3></div></div></div><p>In order to utilize the SQL views, simply press the "Execute query" button 
        <span class="inlinemediaobject"><img src="resources/images/dhis2_images/start_process.png"></span>from the "SQL View management page. Once the process is completed, you will be informed that a table has been created. The name of the table will be provided, and is composed from the "Description" attribute provided in the SQL view definition. Once the view has been materialized, click on the "View" button 
        <span class="inlinemediaobject"><img src="resources/images/dhis2_images/view_sections.png"></span>.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch22s05.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch22.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch22s07.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">22.5.&nbsp;Locale Management&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="dhis2_user_manual_en.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;22.7.&nbsp;Duplicate data elimination</td></tr></table></div></body></html>