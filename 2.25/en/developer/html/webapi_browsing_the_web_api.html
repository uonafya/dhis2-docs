<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>1.6.&nbsp;Browsing the Web API</title><link rel="stylesheet" type="text/css" href="resources/css/docbook_bsd.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="dhis2_developer_manual.html" title="DHIS2 Developer guide"><link rel="up" href="webapi.html" title="Chapter&nbsp;1.&nbsp;Web API"><link rel="prev" href="webapi_identifier_schemes.html" title="1.5.&nbsp;Identifier schemes"><link rel="next" href="webapi_working_with_metadata_api.html" title="1.7.&nbsp;Working with the metadata API"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">1.6.&nbsp;Browsing the Web API</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="webapi_identifier_schemes.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;1.&nbsp;Web API</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="webapi_working_with_metadata_api.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="webapi_browsing_the_web_api"></a>1.6.&nbsp;Browsing the Web API</h2></div></div></div><p>The entry point for browsing the Web API is <span class="italic">/api/</span>. This
      resource provide links to all available resources. Four resource representation formats are
      consistently available for all resources: HTML, XML, JSON and JSONP. Some resources will have
      other formats available, like MS Excel, PDF, CSV and PNG. To explore the API from a web
      browser, navigate to the <span class="italic">/api/</span> entry point and follow the
      links to your desired resource, for instance <span class="italic">/api/dataElements</span>. For all resources which return a list of elements certain
      query parameters can be used to modify the response:</p><div class="table"><a name="d0e530"></a><p class="title"><b>Table&nbsp;1.4.&nbsp;Query parameters</b></p><div class="table-contents"><table class="table" summary="Query parameters" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"><col class="c4"></colgroup><thead><tr><th>Param</th><th>Option values</th><th>Default option</th><th>Description</th></tr></thead><tbody><tr><td>paging</td><td>true | false</td><td>true</td><td>Indicates whether to return lists of elements in pages.</td></tr><tr><td>page</td><td>number</td><td>1</td><td>Defines which page number to return.</td></tr><tr><td>pageSize</td><td>number</td><td>50</td><td>Defines the number of elements to return for each page.</td></tr><tr><td>order</td><td>property:asc/iasc/desc/idesc</td><td>&nbsp;</td><td>Order the output using a specified order, only properties that are both
                persisted and simple (no collections, idObjects etc) are supported. iasc and idesc
                are case insensitive sorting.</td></tr></tbody></table></div></div><br class="table-break"><p>An example of how these parameters can be used to get a full list of data element groups
      in XML response format is:</p><pre class="screen">/api/25/dataElementGroups.xml?links=false&amp;paging=false</pre><p>You can query for elements on the name property instead of returning full list of elements
      using the <span class="italic">query</span> query variable. In this example we query
      for all data elements with the word "anaemia" in the name:</p><pre class="screen">/api/25/dataElements?query=anaemia</pre><p>You can get specific pages and page sizes of objects like this:</p><pre class="screen">/api/25/dataElements.json?page=2&amp;pageSize=20</pre><p>You can completely disable paging like this:</p><pre class="screen">/api/25/indicatorGroups.json?paging=false</pre><p>To order the result based on a specific property:</p><pre class="screen">/api/25/indicators.json?order=shortName:desc</pre><p>You can find an object based on its ID across all object types through the <span class="italic">identifiableObjects</span> resource:</p><pre class="screen">/api/25/identifiableObjects/&lt;id&gt;</pre><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="webapi_translation"></a>1.6.1.&nbsp;Translation</h3></div></div></div><p>DHIS2 supports translations of database content, such as data elements, indicators and
        programs. All metadata objects in the Web API have properties meant to be used for display /
        UI purposes, which includes <span class="emphasis"><em>displayName</em></span>,
          <span class="emphasis"><em>displayShortName</em></span> and <span class="emphasis"><em>displayDescription</em></span>.</p><div class="table"><a name="d0e628"></a><p class="title"><b>Table&nbsp;1.5.&nbsp;Translate options</b></p><div class="table-contents"><table class="table" summary="Translate options" border="1"><colgroup><col class="c1"><col class="newCol2"><col class="c2"></colgroup><thead><tr><th>Parameter</th><th>Values</th><th>Description</th></tr></thead><tbody><tr><td>translate</td><td>true | false</td><td>Translate display* properties in metadata output (displayName,
                  displayShortName, displayDescription, and displayFormName for data elements).
                  Default value is true.</td></tr><tr><td>locale</td><td>Locale to use</td><td>Translate metadata output using a specified locale (requires
                  translate=true).</td></tr></tbody></table></div></div><p><br class="table-break"></p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="webapi_translation_api"></a>1.6.2.&nbsp;Translation API</h3></div></div></div><p>The translations for an object is rendered as part of the object itself in the
          <span class="emphasis"><em>translations</em></span> array. Note that the <span class="italic">translations</span> array in the JSON/XML payloads are normally pre-filtered for you,
        which means they can not directly be used to import/export translations (as that would
        normally overwrite locales other than current users).</p><p><span class="italic">Example of data element with translation array filtered on user
          locale:</span></p><pre class="screen">{
  "id": "FTRrcoaog83",
  "displayName": "Accute French",
  "translations": [
    {
      "property": "SHORT_NAME",
      "locale": "fr",
      "value": "Accute French"
    },
    {
      "property": "NAME",
      "locale": "fr",
      "value": "Accute French"
    }
  ]
}</pre><p><span class="italic">Example of data element with translations turned
        off:</span></p><pre class="screen">{
  "id": "FTRrcoaog83",
  "displayName": "Accute Flaccid Paralysis (Deaths &lt; 5 yrs)",
  "translations": [
    {
      "property": "FORM_NAME",
      "locale": "en_FK",
      "value": "aa"
    },
    {
      "property": "SHORT_NAME",
      "locale": "en_GB",
      "value": "Accute Flaccid Paral"
    },
    {
      "property": "SHORT_NAME",
      "locale": "fr",
      "value": "Accute French"
    },
    {
      "property": "NAME",
      "locale": "fr",
      "value": "Accute French"
    },
    {
      "property": "NAME",
      "locale": "en_FK",
      "value": "aa"
    },
    {
      "property": "DESCRIPTION",
      "locale": "en_FK",
      "value": "aa"
    }
  ]
}</pre><p>Note that even if you get the unfiltered result, and are using the appropriate type
        endpoint i..e <span class="italic">/api/25/dataElements</span> we do not allow
        updates, as it would be too easy to make mistakes and overwrite the other available
        locales.</p><p>To read and update translations you can use the special translations endpoint for each
        object resource. These can be accessed by <span class="bold"><strong>GET</strong></span> or <span class="bold"><strong>PUT</strong></span> on the appropriate <span class="italic">/api/25/&lt;object-type&gt;/&lt;object-id&gt;/translations</span> endpoint. As an example,
        for a data element with identifier <span class="italic">FTRrcoaog83</span> you could
        use <span class="italic">/api/25/dataElements/FTRrcoaog83/translations</span> to get
        and update translations. The fields available are <span class="italic">property</span> with options <span class="bold"><strong>NAME</strong></span>, <span class="bold"><strong>SHORT_NAME</strong></span>, <span class="bold"><strong>DESCRIPTION</strong></span>, the
          <span class="italic">locale</span> which supports any valid locale ID and the the
          <span class="italic">value</span> itself.</p><p><span class="italic">Example of NAME property for french
        locale:</span></p><pre class="screen">{
  "property": "NAME",
  "locale": "fr",
  "value": "Paralysie Flasque Aigu&euml; (D&eacute;c&egrave;s &lt;5 ans)"
}</pre><p>This payload would then be added to a translation array, and sent back to the
        appropriate
        endpoint:</p><pre class="screen">{
  "translations": [
    {
      "property": "NAME",
      "locale": "fr",
      "value": "Paralysie Flasque Aigu&euml; (D&eacute;c&egrave;s &lt;5 ans)"
    }
  ]
}</pre><p>For a an data element with ID <span class="italic">FTRrcoaog83</span> you can
          <span class="bold"><strong>PUT</strong></span> this to <span class="italic">/api/25/dataElements/FTRrcoaog83/translations</span>. Make sure to send all
        translations for the specific object and not just for a single locale (if not you will
        potentially overwrite existing locales for other locales).</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="webapi_api_versions"></a>1.6.3.&nbsp;Web API versions</h3></div></div></div><p>The Web API is fully versioned starting from DHIS 2.25. The API versioning follows the
        DHIS 2 major version numbering. As an example, the API version for DHIS 2.25 is
          <span class="emphasis"><em>25</em></span>.</p><p>You can access a specific API version by including the version number after the
          <span class="emphasis"><em>/api</em></span> component, as an example like
        this:</p><pre class="screen">/api/25/dataElements</pre><p>If you omit the version part of the URL, the system will use the current API version. As
        an example, for DHIS 2.25, when omitting the API part, the system will use API version 25.
        When developing API clients it is recommended to use explicit API versions (rather than
        omitting the API version), as this will protect the client from unforeseen API
        changes.</p><p>The last three API versions will be supported. As an example, DHIS version 2.27 will
        support API version 27, 26 and 25.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="webapi_identifier_schemes.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="webapi.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="webapi_working_with_metadata_api.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">1.5.&nbsp;Identifier schemes&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="dhis2_developer_manual.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;1.7.&nbsp;Working with the metadata API</td></tr></table></div></body></html>