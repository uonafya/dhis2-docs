<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>1.55.&nbsp;Sharing</title><link rel="stylesheet" type="text/css" href="resources/css/docbook_bsd.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><meta name="keywords" content="DHIS2, HMIS, aggregate data, Health Management Information System, Integrated data repository, Health Information System"><link rel="home" href="dhis2_developer_manual.html" title="DHIS2 Developer Manual"><link rel="up" href="ch01.html" title="Chapter&nbsp;1.&nbsp;Web API"><link rel="prev" href="ch01s54.html" title="1.54.&nbsp;Email"><link rel="next" href="ch01s56.html" title="1.56.&nbsp;Scheduling"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">1.55.&nbsp;Sharing</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch01s54.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;1.&nbsp;Web API</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch01s56.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d5e5912"></a>1.55.&nbsp;Sharing</h2></div></div></div>
    
    <p>The sharing solution allows you to share most objects in the system with specific user
      groups and to define whether objects should be public and private. To get and set sharing for
      objects you can interact with the <span class="italic">sharing</span> resource. To
      request the sharing status for an object use a GET request to:</p>
    <pre class="screen">api/sharing?type=dataElement&amp;id=fbfJHSPpUQD</pre>
    <p>You can define the sharing status for an object using the same URL with a POST request,
      where the payload in JSON format looks like this:</p>
    <pre class="screen">{
    "meta": {
        "allowPublicAccess": true,
        "allowExternalAccess": false
    },
    "object": {
        "id": "fbfJHSPpUQD",
        "name": "ANC 1st visit",
        "publicAccess": "rw------",
        "externalAccess": false,
        "user": {},
        "userGroupAccesses": [
            {
                "id": "hj0nnsVsPLU",
                "access": "rw------"
            },
            {
                "id": "qMjBflJMOfB",
                "access": "r-------"
            }
        ]
    }
}</pre>
    <p>In this example, the payload defines the object to have read-write public access, no
      external access (without login), read-write access to one user group and read-only access to
      another user group. You can submit this to the sharing resource using curl:</p>
    <pre class="screen">curl -d @sharing.json "localhost/api/sharing?type=dataElement&amp;id=fbfJHSPpUQD" -H "Content-Type:application/json" -u admin:district -v</pre>
  </div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch01s54.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch01.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch01s56.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">1.54.&nbsp;Email&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="dhis2_developer_manual.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;1.56.&nbsp;Scheduling</td></tr></table></div></body></html>