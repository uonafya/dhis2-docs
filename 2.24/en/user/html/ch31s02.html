<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>31.2.&nbsp;Metadata Sync Task</title><link rel="stylesheet" type="text/css" href="resources/css/docbook_bsd.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="dhis2_user_manual_en.html" title="DHIS2 User Manual"><link rel="up" href="ch31.html" title="Chapter&nbsp;31.&nbsp;Synchronizing metadata"><link rel="prev" href="ch31.html" title="Chapter&nbsp;31.&nbsp;Synchronizing metadata"><link rel="next" href="ch31s03.html" title="31.3.&nbsp;Authorities to sync and create versioned metadata"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">31.2.&nbsp;Metadata Sync Task</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch31.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;31.&nbsp;Synchronizing
    metadata</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch31s03.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="metadata_sync_task"></a>31.2.&nbsp;Metadata Sync Task</h2></div></div></div><p>The process which does Metadata Synchronization is referred as Metadata Sync Task. This task performs a
      series of steps before syncing of metadata</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Data push (aggregate data and anonymous events data) from local instance to central instance.</p></li><li class="listitem"><p>Gets the current metadata version of the local instance. Then uses this version information as a
          baseline to fetch the list of metadata versions created after the baseline.</p></li><li class="listitem"><p>If there are new versions created at central instance, it performs the sync of metadata versions one
          after the other. A mail will be sent to the configured user (see <a class="xref" href="ch31s05.html" title="31.5.&nbsp;Configure Local Instance">Section&nbsp;31.5, &#8220;Configure Local Instance&#8221;</a>)
          after each successful sync of metadata version at the local instance.</p><p>This task is scheduled using the Data Administration app.</p></li><li class="listitem"><p>Go to Data Administration app &gt; Scheduling. Under Metadata Synchronization, set
          metadata synchronization strategy to Enabled, and then select appropriate time/ time
          period for scheduling and click Start. Alternatively, metadata can be synced instantly
          from one system to another using the "Sync Now" button. For this,
          scheduling
          is not required.</p></li></ul></div><p>Once this task is run at the scheduled time, this task has the ability to retry (if any of the steps fail)
      based on the configuration of below parameters as defined in dhis.conf file.</p><p>ex:</p><p>metadata.sync.retry = 5</p><p>metadata.sync.retry.time.frequency.millisec = 10000</p><p>If no values are specified then the default values are</p><p>metadata.sync.retry = 3</p><p>metadata.sync.retry.time.frequency.millisec = 30000</p><p>Each retry will be made after the time (in millisecond) as specified. If the steps still
      fail even after all the retries, then the scheduler stops its execution and then a mail will
      be sent to the configured user (see <a class="xref" href="ch31s05.html" title="31.5.&nbsp;Configure Local Instance">Section&nbsp;31.5, &#8220;Configure Local Instance&#8221;</a>)</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch31.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch31.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch31s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;31.&nbsp;Synchronizing
    metadata&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="dhis2_user_manual_en.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;31.3.&nbsp;Authorities to sync and create versioned metadata</td></tr></table></div></body></html>