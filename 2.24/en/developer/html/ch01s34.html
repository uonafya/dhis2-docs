<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>1.34.&nbsp;Analytics</title><link rel="stylesheet" type="text/css" href="resources/css/docbook_bsd.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="dhis2_developer_manual.html" title="DHIS2 Developer Manual"><link rel="up" href="ch01.html" title="Chapter&nbsp;1.&nbsp;Web API"><link rel="prev" href="ch01s33.html" title="1.33.&nbsp;Dashboard"><link rel="next" href="ch01s35.html" title="1.35.&nbsp;Event analytics"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">1.34.&nbsp;Analytics</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch01s33.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;1.&nbsp;Web API</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch01s35.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e8022"></a>1.34.&nbsp;Analytics</h2></div></div></div><p>To access analytical, aggregated data in DHIS2 you can work with the <span class="italic">analytics</span> resource. The analytics resource is powerful as it lets
      you query and retrieve data aggregated along all available data dimensions. For instance, you
      can ask the analytics resource to provide the aggregated data values for a set of data
      elements, periods and organisation units. Also, you can retrieve the aggregated data for a
      combination of any number of dimensions based on data elements and organisation unit group
      sets.</p><pre class="screen">/api/24/analytics</pre><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8032"></a>1.34.1.&nbsp;Request query parameters</h3></div></div></div><p>The analytics resource lets you specify a range of query parameters:</p><div class="table"><a name="d0e8037"></a><p class="title"><b>Table&nbsp;1.62.&nbsp;Query parameters</b></p><div class="table-contents"><table class="table" summary="Query parameters" border="1"><colgroup><col class="c1"><col class="newCol2"><col class="c2"><col class="c3"></colgroup><thead><tr><th>Query parameter</th><th>Required</th><th>Description</th><th>Options</th></tr></thead><tbody><tr><td>dimension</td><td>Yes</td><td>Dimensions and dimension items to be retrieved, repeated for each.</td><td>Any dimension</td></tr><tr><td>filter</td><td>No</td><td>Filters and filter items to apply to the query, repeated for each.</td><td>Any dimension</td></tr><tr><td>aggregationType</td><td>No</td><td>Aggregation type to use in the aggregation process.</td><td>SUM | AVERAGE | COUNT | STDDEV | VARIANCE</td></tr><tr><td>measureCriteria</td><td>No</td><td>Filters for the data/measures.</td><td>EQ | GT | GE | LT | LE</td></tr><tr><td>skipMeta</td><td>No</td><td>Exclude the meta data part of the response (improves performance).</td><td>false | true</td></tr><tr><td>skipData</td><td>No</td><td>Exclude the data part of the response.</td><td>false | true</td></tr><tr><td>skipRounding</td><td>No</td><td>Skip rounding of data values, i.e. provide full precision.</td><td>false | true</td></tr><tr><td>hierarchyMeta</td><td>No</td><td>Include names of organisation unit ancestors and hierarchy paths of
                  organisation units in the metadata.</td><td>false | true</td></tr><tr><td>ignoreLimit</td><td>No</td><td>Ignore limit on max 50 000 records in response - use with care.</td><td>false | true</td></tr><tr><td>tableLayout</td><td>No</td><td>Use plain data source or table layout for response.</td><td>false | true</td></tr><tr><td>hideEmptyRows</td><td>No</td><td>Hides empty rows in response, applicable when table layout is true.</td><td>false | true</td></tr><tr><td>showHierarchy</td><td>No</td><td>Display full org unit hierarchy path together with org unit name.</td><td>false | true</td></tr><tr><td>displayProperty</td><td>No</td><td>Property to display for metadata.</td><td>NAME | SHORTNAME</td></tr><tr><td>outputIdScheme</td><td>No</td><td>Property to use for metadata items the query response, can be identifier,
                  code or name.</td><td>UID | CODE | NAME</td></tr><tr><td>inputIdScheme</td><td>No</td><td>Property to use for metadata items in the request, can be identifier or
                  code.</td><td>UID | CODE</td></tr><tr><td>approvalLevel</td><td>No</td><td>Include data which has been approved at least up to the given approval level,
                  refers to identfier of approval level.</td><td>Identifier of approval level</td></tr><tr><td>relativePeriodDate</td><td>No</td><td>Date used as basis for relative periods.</td><td>Date.</td></tr><tr><td>userOrgUnit</td><td>No</td><td>Explicitly define the user org units to utilize, overrides organisation units
                  associated with current user, multiple identifiers can be separated by
                  semi-colon.</td><td>Organisation unit identifiers.</td></tr><tr><td>columns</td><td>No</td><td>Dimensions to use as columns for table layout.</td><td>Any dimension (must be query dimension)</td></tr><tr><td>rows</td><td>No</td><td>Dimensions to use as rows for table layout.</td><td>Any dimension (must be query dimension)</td></tr></tbody></table></div></div><p><br class="table-break">The <span class="italic">dimension</span> query parameter defines which
        dimensions should be included in the analytics query. Any number of dimensions can be
        specified. The dimension parameter should be repeated for each dimension to include in the
        query response. The query response can potentially contain aggregated values for all
        combinations of the specified dimension items.</p><p>The <span class="italic">filter</span> parameter defines which dimensions should
        be used as filters for the data retrieved in the analytics query. Any number of filters can
        be specified. The filter parameter should be repeated for each filter to use in the query. A
        filter differs from a dimension in that the filter dimensions will not be part of the query
        response content, and that the aggregated values in the response will be collapsed on the
        filter dimensions. In other words, the data in the response will be aggregated on the filter
        dimensions, but the filters will not be included as dimensions in the actual response. As an
        example, to query for certain data elements filtered by the periods and organisation units
        you can use the following URL:</p><pre class="screen">/api/24/analytics?dimension=dx:fbfJHSPpUQD;cYeuwXTCPkU&amp;filter=pe:2014Q1;2014Q2&amp;filter=ou:O6uvpzGd5pu;lc3eMKXaEfw</pre><p>The <span class="italic">aggregationType</span> query parameter lets you define
        which aggregation operator should be used for the query. By default the aggregation operator
        defined for data elements included in the query will be used. If your query does not contain
        any data elements, but does include data element groups, the aggregation operator of the
        first data element in the first group will be used. The order of groups and data elements is
        undefined. This query parameter allows you to override the default and specify a specific
        aggregation operator. As an example you can set the aggregation operator to
        "count" with the following URL:</p><pre class="screen">/api/24/analytics?dimension=dx:fbfJHSPpUQD&amp;dimension=pe:2014Q1&amp;dimension=ou:O6uvpzGd5pu&amp;aggregationType=COUNT</pre><p>The <span class="italic">measureCriteria</span> query parameter lets you filter
        out ranges of data records to return. You can instruct the system to return only records
        where the aggregated data value is equal, greater than, greater or equal, less than or less
        or equal to certain values. You can specify any number of criteria on the following format,
        where <span class="italic">critieria</span> and <span class="italic">value</span> should be substituted with real values:</p><pre class="screen">/api/24/analytics?measureCriteria=criteria:value;criteria:value</pre><p>As an example, the following query will return only records where the data value is
        greater or equal to 6500 and less than 33000:</p><pre class="screen">/api/24/analytics?dimension=dx:fbfJHSPpUQD;cYeuwXTCPkU&amp;dimension=pe:2014
  &amp;dimension=ou:O6uvpzGd5pu;lc3eMKXaEfw&amp;measureCriteria=GE:6500;LT:33000</pre><p>In order to have the analytics resource generate the data in the shape of a ready-made
        table, you can provide the <span class="italic">tableLayout</span> parameter with
        true as value. Instead of generating a plain, normalized data source, the analytics resource
        will now generate the data in table layout. You can use the <span class="italic">columns</span> and <span class="italic">rows</span> parameters with dimension
        identifiers separated by semi-colons as values to indicate which ones to use as table
        columns and rows. The column and rows dimensions must be present as a data dimension in the
        query (not a filter). Such a request can look like this:</p><pre class="screen">/api/24/analytics.html?dimension=dx:fbfJHSPpUQD;cYeuwXTCPkU&amp;dimension=pe:2014Q1;2014Q2
  &amp;dimension=ou:O6uvpzGd5pu&amp;tableLayout=true&amp;columns=dx;ou&amp;rows=pe</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8284"></a>1.34.2.&nbsp;Dimensions and items</h3></div></div></div><p>DHIS2 features a multi-dimensional data model with several fixed and dynamic data
        dimensions. The fixed dimensions are the data element, period (time) and organisation unit
        dimension. You can dynamically add dimensions through categories, data element group sets
        and organisation unit group sets. The table below displays the available data dimensions in
        DHIS2. Each data dimension has a corresponding <span class="italic">dimension
          identifier</span>, and each dimension can have a set of <span class="italic">dimension items</span>:</p><div class="table"><a name="d0e8295"></a><p class="title"><b>Table&nbsp;1.63.&nbsp;Dimensions and dimension items</b></p><div class="table-contents"><table class="table" summary="Dimensions and dimension items" border="1"><colgroup><col class="c1"><col class="c2"><col class="newCol3"></colgroup><thead><tr><th>Dimension</th><th>Dimension id</th><th>Dimension items</th></tr></thead><tbody><tr><td>Data elements, indicators, data set reporting rate metrics, data element
                operands, program indicators, program data elements, program attributes</td><td>dx</td><td>Data element, indicator, data set reporting rate metrics, data element operand,
                program indicator, program attribute identifiers, keyword DE_GROUP-&lt;group-id&gt;,
                IN_GROUP-&lt;group-id&gt;, use &lt;dataelement-id&gt;.&lt;optioncombo-id&gt; for data
                element operands, &lt;program-id&gt;.&lt;dataelement-id&gt; for program data elements,
                &lt;program-id&gt;.&lt;attribute-id&gt; for program attributes.</td></tr><tr><td>Periods (time)</td><td>pe</td><td>ISO periods and relative periods, see "date and period
                format"</td></tr><tr><td>Organisation unit hierarchy</td><td>ou</td><td>Organisation unit identifiers, and keywords USER_ORGUNIT,
                USER_ORGUNIT_CHILDREN, USER_ORGUNIT_GRANDCHILDREN, LEVEL-&lt;level&gt; and
                OU_GROUP-&lt;group-id&gt;</td></tr><tr><td>Category option combinations</td><td>co</td><td>Category option combo identifers (omit to get all items)</td></tr><tr><td>Attribute option combinations</td><td>ao</td><td>Category option combo identifers (omit to get all items)</td></tr><tr><td>Categories</td><td>&lt;category id&gt;</td><td>Category option identifiers (omit to get all items)</td></tr><tr><td>Data element group sets</td><td>&lt;group set id&gt;</td><td>Data element group identifiers (omit to get all items)</td></tr><tr><td>Organisation unit group sets</td><td>&lt;group set id&gt;</td><td>Organisation unit group identifiers (omit to get all items)</td></tr><tr><td>Category option group sets</td><td>&lt;group set id&gt;</td><td>Category option group identifiers (omit to get all items)</td></tr></tbody></table></div></div><br class="table-break"><p>It is not necessary to be aware of which objects are used for the various dynamic
        dimensions when designing analytics queries. You can get a complete list of dynamic
        dimensions by visiting this URL in the Web API:</p><pre class="screen">/api/24/dimensions</pre><p>The base URL to the analytics resource is <span class="italic">api/analytics</span>. To request specific dimensions and dimension items you can use
        a query string on the following format, where <span class="italic">dim-id</span> and
          <span class="italic">dim-item</span> should be substituted with real values:</p><pre class="screen">/api/24/analytics?dimension=dim-id:dim-item;dim-item&amp;dimension=dim-id:dim-item;dim-item</pre><p>As illustrated above, the dimension identifier is followed by a colon while the
        dimension items are separated by semi-colons. As an example, a query for two data elements,
        two periods and two organisation units can be done with the following URL:</p><pre class="screen">/api/24/analytics?dimension=dx:fbfJHSPpUQD;cYeuwXTCPkU
  &amp;dimension=pe:2016Q1;2016Q2&amp;dimension=ou:O6uvpzGd5pu;lc3eMKXaEfw</pre><p>To query for data broken down by category option combinations instead of data element
        totals you can include the category dimension in the query string, for instance like
        this:</p><pre class="screen">/api/24/analytics?dimension=dx:fbfJHSPpUQD;cYeuwXTCPkU
  &amp;dimension=co&amp;dimension=pe:201601&amp;dimension=ou:O6uvpzGd5pu;lc3eMKXaEfw</pre><p>When selecting data elements you can also select all data elements in a group as items
        by using the DE_GROUP-&lt;id&gt; syntax:</p><pre class="screen">/api/24/analytics?dimension=dx:DE_GROUP-h9cuJOkOwY2
  &amp;dimension=pe:201601&amp;dimension=ou:O6uvpzGd5pu</pre><p>When selecting data set reporting rates, the syntax contains of a data set identifier
        followed by a reporting rate metric:</p><pre class="screen">/api/24/analytics?dimension=dx:BfMAe6Itzgt.REPORTING_RATE;BfMAe6Itzgt.ACTUAL_REPORTS
  &amp;dimension=pe:201601&amp;dimension=ou:O6uvpzGd5pu</pre><p>To query for program data elements (of tracker domain type) you can get those by
        specifying the program for each data element using the &lt;program-id&gt;.&lt;dataelement-id&gt;
        syntax:</p><pre class="screen">/api/24/analytics.json?dimension=dx:eBAyeGv0exc.qrur9Dvnyt5;eBAyeGv0exc.GieVkTxp4HH
  &amp;dimension=pe:LAST_12_MONTHS&amp;filter=ou:ImspTQPwCqd</pre><p>To query for program attributes (tracked entity attributes) you can get those by
        specifying the program for each attribute using the &lt;program.id&gt;.&lt;attribute-id&gt;
        syntax:</p><pre class="screen">/api/24/analytics.json?dimension=dx:IpHINAT79UW.a3kGcGDCuk6;IpHINAT79UW.UXz7xuGCEhU
  &amp;dimension=pe:LAST_4_QUARTERS&amp;dimension=ou:ImspTQPwCqd</pre><p>To query for organisation unit group sets and data elements you can use the following
        URL - notice how the group set identifier is used as dimension identifier and the groups as
        dimension items:</p><pre class="screen">/api/24/analytics?dimension=Bpx0589u8y0:oRVt7g429ZO;MAs88nJc9nL
  &amp;dimension=pe:2016&amp;dimension=ou:ImspTQPwCqd</pre><p>To query for data elements and categories you can use this URL - use the category
        identifier as dimension identifier and the category options as dimension items:</p><pre class="screen">/api/24/analytics?dimension=dx:s46m5MS0hxu;fClA2Erf6IO&amp;dimension=pe:2016
  &amp;dimension=YNZyaJHiHYq:btOyqprQ9e8;GEqzEKCHoGA&amp;filter=ou:ImspTQPwCqd</pre><p>To query using relative periods and organisation units associated with the current user
        you can use a URL like this:</p><pre class="screen">/api/24/analytics?dimension=dx:fbfJHSPpUQD;cYeuwXTCPkU
  &amp;dimension=pe:LAST_12_MONTHS&amp;dimension=ou:USER_ORGUNIT</pre><p>When selecting organisation units for a dimension you can select an entire level
        optionally constrained by any number of boundary organisation units with the
        LEVEL-&lt;level&gt; syntax. Boundary refers to a top node in a sub-hierarchy, meaning that
        all organisation units at the given level below the given boundary organisation unit in the
        hierarchy will be included in the response, and is provided as regular organisation unit
        dimension items. A simple query for all org units at level three:</p><pre class="screen">/api/24/analytics?dimension=dx:fbfJHSPpUQD&amp;dimension=pe:2016&amp;dimension=ou:LEVEL-3</pre><p>A query for level three and four with two boundary org units can be specified like
        this:</p><pre class="screen">/api/24/analytics?dimension=dx:fbfJHSPpUQD&amp;dimension=pe:2016
  &amp;dimension=ou:LEVEL-3;LEVEL-4;O6uvpzGd5pu;lc3eMKXaEf</pre><p>When selecting organisation units you can also select all organisation units in an
        organisation unit group to be included as dimension items using the OU_GROUP-&lt;id&gt;
        syntax. The organisation units in the groups can optionally be constrained by any number of
        boundary organisation units. Both the level and the group items can be repeated any number
        of times:</p><pre class="screen">/api/24/analytics?dimension=dx:fbfJHSPpUQD&amp;dimension=pe:2016
  &amp;dimension=ou:OU_GROUP-w0gFTTmsUcF;OU_GROUP-EYbopBOJWsW;O6uvpzGd5pu;lc3eMKXaEf</pre><p>A few things to be aware of when using the analytics resource are listed below.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Data elements, indicator, data set reporting rates, program data elements and
            program indicators are part of a common data dimension, identified as "dx".
            This means that you can use any of data elements, indicators and data set identifiers
            together with the "dx" dimension identifier in a query.</p></li><li class="listitem"><p>For the category, data element group set and organisation unit group set dimensions,
            all dimension items will be used in the query if no dimension items are
            specified.</p></li><li class="listitem"><p>For the period dimension, the dimension items are ISO period identifiers and/or
            relative periods. Please refer to the section above called "Date and period
            format" for the period format and available relative periods.</p></li><li class="listitem"><p>For the organisation unit dimension you can specify the items to be the organisation
            unit or sub-units of the organisation unit associated with the user currently
            authenticated for the request using they keys USER_ORGUNIT or USER_ORGUNIT_CHILDREN as
            items, respectively. You can also specify organisation unit identifiers directly, or a
            combination of both.</p></li><li class="listitem"><p>For the organisation unit dimension you can specify the organisation hierarchy level
            and the boundary unit to use for the request on the format
            LEVEL-&lt;level&gt;-&lt;boundary-id&gt;; as an example LEVEL-3-ImspTQPwCqd implies all
            organisation units below the given boundary unit at level 3 in the hierarchy.</p></li><li class="listitem"><p>For the organisation unit dimension the dimension items are the organisation units
            and their sub-hierarchy - data will be aggregated for all organisation units below the
            given organisation unit in the hierarchy.</p></li><li class="listitem"><p>You cannot specify dimension items for the category option combination dimension.
            Instead the response will contain the items which are linked to the data values.</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8463"></a>1.34.3.&nbsp;The dx dimension</h3></div></div></div><p>The <span class="emphasis"><em>dx</em></span> dimension is a special dimension which can contain all of
        the following data types.</p><div class="table"><a name="d0e8471"></a><p class="title"><b>Table&nbsp;1.64.&nbsp;Data dx dimension types</b></p><div class="table-contents"><table class="table" summary="Data dx dimension types" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"><col class="newCol4"></colgroup><thead><tr><th>Type</th><th>Syntax</th><th>Description</th><th>Data source</th></tr></thead><tbody><tr><td>Indicator</td><td>&lt;indicator-id&gt;</td><td>Indicator identifier.</td><td>Aggregated data</td></tr><tr><td>Indicator</td><td>IN_GROUP-&lt;indicatorgroup-id&gt;</td><td>Keyword followed by indicator group identifier. Will include all indicators in
                the group in the response.</td><td>Aggregated data</td></tr><tr><td>Data element</td><td>&lt;dataelement-id&gt; </td><td>Data element identifier.</td><td>Aggregated data</td></tr><tr><td>Data element</td><td>DE_GROUP-&lt;dataelementgroup-id&gt;</td><td>Keyword followed by data element group identifier. Will include all data
                elements in the group in the response.</td><td>Aggregated data</td></tr><tr><td>Data set</td><td>&lt;dataset-id&gt;.&lt;reporting-rate-metric&gt;</td><td>Data set identifier followed by reporting rate metric. Can be REPORTING_RATE |
                REPORTING_RATE_ON_TIME | ACTUAL_REPORTS | ACTUAL_REPORTS_ON_TIME |
                EXPECTED_REPORTS.</td><td>Aggregated data</td></tr><tr><td>Program data element</td><td>&lt;program-id&gt;.&lt;dataelement-id&gt;</td><td>Program identifier followed by data element identifier. Reads from events
                within the specified program.</td><td>Events from the given program</td></tr><tr><td>Program indicator</td><td>&lt;programindicator-id&gt;</td><td>Program indicator identifier. Reads from events from within the program
                associated with the program identifier.</td><td>Events from the program of the program indicator</td></tr></tbody></table></div></div><br class="table-break"><p>Items from all of the various <span class="emphasis"><em>dx</em></span> types can be combined in an
        analytics request. An example looks like this:</p><pre class="screen">/api/24/analytics.json
  ?dimension=dx:Uvn6LCg7dVU;BfMAe6Itzgt.REPORTING_RATE;BfMAe6Itzgt.ACTUAL_REPORTS;IpHINAT79UW.a3kGcGDCuk6
  &amp;dimension=pe:LAST_12_MONTHS&amp;filter=ou:ImspTQPwCqd</pre><p>The group syntax can be used together with any other item as well. An example looks like
        this:</p><pre class="screen">/api/24/analytics.json
  ?dimension=dx:DE_GROUP-qfxEYY9xAl6;IN_GROUP-oehv9EO3vP7;BfMAe6Itzgt.REPORTING_RATE
  &amp;dimension=pe:LAST_12_MONTHS&amp;filter=ou:ImspTQPwCqd</pre><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="resources/images/admon/tip.png"></td><th align="left">Tip</th></tr><tr><td align="left" valign="top"><p>A great way to learn how to use the analytics API is to use the DHIS2 <span class="emphasis"><em>pivot
            table</em></span> app. You can play around with pivot tables using the various dimensions
          and items and click Download &gt; Plain data source &gt; JSON to see the resulting analytics API
          calls in the address bar of your Web browser.</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8570"></a>1.34.4.&nbsp;Response formats</h3></div></div></div><p>The analytics response containing aggregate data can be returned in various
        representation formats. As usual, you can indicate interest in a specific format by
        appending a file extension to the URL, through the <span class="italic">Accept</span>
        HTTP header or through the <span class="italic">format</span> query parameter. The
        default format is JSON. The available formats and content-types are listed below.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>json (application/json)</p></li><li class="listitem"><p>jsonp (application/javascript)</p></li><li class="listitem"><p>xml (application/xml)</p></li><li class="listitem"><p>csv (application/csv)</p></li><li class="listitem"><p>html (text/html)</p></li><li class="listitem"><p>html+css</p></li><li class="listitem"><p>xls (application/vnd.ms-excel)</p></li></ul></div><p>As an example, to request an analytics response in XML format you can use the following
        URL:</p><pre class="screen">/api/24/analytics.xml?dimension=dx:fbfJHSPpUQD
  &amp;dimension=pe:2016&amp;dimension=ou:O6uvpzGd5pu;lc3eMKXaEfw</pre><p>The analytics responses must be retrieved using the HTTP <span class="italic">GET</span> method. This allows for direct linking to analytics responses from Web
        pages as well as other HTTP-enabled clients. To do functional testing we can use the cURL
        library. By executing this command against the demo database you will get an analytics
        response in JSON format:</p><pre class="screen">curl "play.dhis2.org/demo/api/24/analytics.json?dimension=dx:eTDtyyaSA7f;FbKK4ofIv5R
  &amp;dimension=pe:2016Q1;2016Q2&amp;filter=ou:ImspTQPwCqd" -u admin:district</pre><p>The JSON response will look like this:</p><pre class="screen">{
    "headers": [
        {
            "name": "dx",
            "column": "Data",
            "meta": true,
            "type": "java.lang.String"
        },
        {
            "name": "pe",
            "column": "Period",
            "meta": true,
            "type": "java.lang.String"
        },
        {
            "name": "value",
            "column": "Value",
            "meta": false,
            "type": "java.lang.Double"
        }
    ],
    "height": 4,
    "metaData": {
        "pe": [
            "2016Q1",
            "2016Q2"
        ],
        "ou": [
            "ImspTQPwCqd"
        ],
        "names": {
            "2016Q1": "Jan to Mar 2016",
            "2016Q2": "Apr to Jun 2016",
            "FbKK4ofIv5R": "Measles Coverage &lt;1 y",
            "ImspTQPwCqd": "Sierra Leone",
            "eTDtyyaSA7f": "Fully Immunized Coverage"
        }
    },
    "rows": [
        [
            "eTDtyyaSA7f",
            "2016Q2",
            "81.1"
        ],
        [
            "eTDtyyaSA7f",
            "2016Q1",
            "74.7"
        ],
        [
            "FbKK4ofIv5R",
            "2016Q2",
            "88.9"
        ],
        [
            "FbKK4ofIv5R",
            "2016Q1",
            "84.0"
        ]
    ],
    "width": 3
}
</pre><p>The response represents a table of dimensional data. The <span class="italic">headers</span> array gives an overview of which columns are included in the table and
        what the columns contain. The <span class="italic">column</span> property shows the
        column dimension identifier, or if the column contains measures, the word "Value".
        The <span class="italic">meta</span> property is <span class="italic">true</span> if the column contains dimension items or <span class="italic">false</span> if the column contains a measure (aggregated data values). The <span class="italic">name</span> property is similar to the column property, except it
        displays "value" in case the column contains a measure. The <span class="italic">type</span> property indicates the Java class type of the column
        values.</p><p>The <span class="italic">height</span> and <span class="italic">width</span> properties indicate how many data columns and rows are contained in the
        response, respectively.</p><p>The <span class="italic">metaData periods</span> property contains a unique,
        ordered array of the periods included in the response. The <span class="italic">metaData
          ou</span> property contains an array of the identifiers of organisation units included
        in the response. The <span class="italic">metaData names</span> property contains a
        mapping between the identifiers used in the data response and the names of the objects they
        represent. It can be used by clients to substitute the identifiers within the data response
        with names in order to give a more meaningful view of the data table.</p><p>The <span class="italic">rows</span> array contains the dimensional data table.
        It contains columns with dimension items (object or period identifiers) and a column with
        aggregated data values. The example response above has a data/indicator column, a period
        column and a value column. The first column contains indicator identifiers, the second
        contains ISO period identifiers and the third contains aggregeted data values.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8665"></a>1.34.5.&nbsp;Constraints</h3></div></div></div><p>There are several constraints on the input you can provide to the analytics
        resource.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>At least one dimension must be specified in a query.</p></li><li class="listitem"><p>Dimensions cannot be specified as dimension and filter simultaneously.</p></li><li class="listitem"><p>At least one period must be specified as dimension or filter.</p></li><li class="listitem"><p>Indicators, data sets and categories cannot be specified as filters.</p></li><li class="listitem"><p>Data element group sets cannot be specified together with data sets.</p></li><li class="listitem"><p>Categories can only be specified together with data elements, not indicators or data
            sets.</p></li><li class="listitem"><p>A dimension cannot be specified more than once.</p></li><li class="listitem"><p>Fixed dimensions ("dx", "pe", "ou") must have at least
            one option if included in a query.</p></li><li class="listitem"><p>A table cannot contain more than 50 000 cells by default, this can be configured
            under system settings.</p></li></ul></div><p>When a query request violates any of these constraints the server will return a response
        with status code 409 and content-type "text/plain" together with a textual
        description of the problem.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8700"></a>1.34.6.&nbsp;Debugging</h3></div></div></div><p>When debugging analytics requests it can be useful to examine the data value source of
        the aggregated analytics response. The <span class="italic">analytics/debug/sql</span> resource will provide an SQL statement that returns the
        relevant content of the datavalue table. You can produce this SQL by doing a GET request
        with content type "text/html" or "text/plain" like below. The dimension
        and filter syntax is identical to regular analytics queries:</p><pre class="screen">/api/24/analytics/debug/sql?dimension=dx:fbfJHSPpUQD;cYeuwXTCPkU&amp;filter=pe:2016Q1;2016Q2&amp;filter=ou:O6uvpzGd5pu</pre></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch01s33.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch01.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch01s35.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">1.33.&nbsp;Dashboard&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="dhis2_developer_manual.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;1.35.&nbsp;Event analytics</td></tr></table></div></body></html>