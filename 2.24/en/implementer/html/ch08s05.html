<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>8.5.&nbsp;LDAP configuration</title><link rel="stylesheet" type="text/css" href="resources/css/docbook_bsd.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="dhis2_implementation_guide.html" title="DHIS2 Implementation Guide"><link rel="up" href="ch08.html" title="Chapter&nbsp;8.&nbsp;Installation"><link rel="prev" href="ch08s04.html" title="8.4.&nbsp;Reverse proxy configuration"><link rel="next" href="ch08s06.html" title="8.6.&nbsp;Encryption setup"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">8.5.&nbsp;LDAP configuration</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch08s04.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;8.&nbsp;Installation</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch08s06.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1412"></a>8.5.&nbsp;LDAP configuration</h2></div></div></div><p>DHIS2 is capable of using an LDAP server for authentication of users. For LDAP
      authentication it is required to have a matching user in the DHIS2 database per LDAP entry.
      The DHIS2 user will be used to represent authorities / user roles. </p><p>To set up LDAP authentication you need to configure the LDAP server URL, a manager user
      and an LDAP search base and search filter. This configuration should be done in the main DHIS
      2 configuration file (dhis.conf). LDAP users, or entries, are identified by distinguished
      names (DN from now on). An example configuration looks like this:</p><pre class="screen"># LDAP server URL
ldap.url = ldaps://domain.org:636

# LDAP manager entry distinguished name
ldap.manager.dn = cn=johndoe,dc=domain,dc=org

# LDAP manager entry password
ldap.manager.password = xxxx

# LDAP base search
ldap.search.base = dc=domain,dc=org

# LDAP search filter
ldap.search.filter = (cn={0})</pre><p>The LDAP configuration properties are explained below:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="italic">ldap.url:</span> The URL of the LDAP server for which to
            authenticate against. Using SSL/encryption is strongly recommended in order to make
            authentication secure. As example URL is <span class="italic">ldaps://domain.org:636</span>, where ldaps refers to the protocol, <span class="italic">domain.org</span> refers to the domain name or IP address, and
              <span class="italic">636</span> refers to the port (636 is default for
            LDAPS).</p></li><li class="listitem"><p><span class="italic">ldap.manager.dn:</span> An LDAP manager user is required
            for binding to the LDAP server for the user authentication process. This property refers
            to the DN of that entry. I.e. this is not the user which will be authenticated when
            logging into DHIS2, rather the user which binds to the LDAP server in order to do the
            authentication.</p></li><li class="listitem"><p><span class="italic">ldap.manager.password:</span> The password for the LDAP
            manager user.</p></li><li class="listitem"><p><span class="italic">ldap.search.base:</span> The search base, or the
            distinguished name of the search base object, which defines the location in the
            directory from which the LDAP search begins.</p></li><li class="listitem"><p><span class="italic">ldap.search.filter:</span> The filter for matching DNs
            of entries in the LDAP directory. The {0} variable will be substituted by the DHIS2
            username, or alternatively, the LDAP identifier defined for the user with the supplied
            username.</p></li></ul></div><p>DHIS2 will use the supplied username / password and try to authenticate against an LDAP
      server entry, then look up user roles / authorities from a corresponding DHIS2 user. This
      implies that a user must have a matching entry in the LDAP directory as well as a DHIS2 user
      in order to log in.</p><p>During authentication, DHIS2 will try to bind to the LDAP server using the configured
      LDAP server URL and the manager DN and password. Once the binding is done, it will search for
      an entry in the directory using the configured LDAP search base and search filter.</p><p>The {0} variable in the configured filter will be substituted beforing applying the
      filter. By default, it will be substituted by the supplied username. You can also set a custom
      LDAP identifier on the relevant DHIS2 user account. This can be done throught the DHIS2 user
      module user interface in the add or edit screen by setting the "LDAP identifier" property.
      When set, the LDAP identifier will be subsituted for the {0} variable in the filter. This
      feature is useful when the LDAP common name is not suitable or cannot for some reason be used
      as a DHIS2 username.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch08s04.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch08.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch08s06.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">8.4.&nbsp;Reverse proxy configuration&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="dhis2_implementation_guide.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;8.6.&nbsp;Encryption setup</td></tr></table></div></body></html>